(cl:in-package #:sicl-boot-phase-6)

(defun boot (boot)
  (format *trace-output* "Start of phase 6~%")
  (with-accessors ((e5 sicl-boot:e5)
                   (e6 sicl-boot:e6))
      boot
    (change-class e6 'environment)
    (import-function-from-host 'cons e6)
    (enable-class-finalization boot)
    (finalize-all-classes boot)
    (enable-defmethod boot)
    (enable-allocate-instance e5)
    (enable-object-initialization boot)
    (enable-method-combinations boot)
    (enable-generic-function-invocation boot)
    (enable-defgeneric boot)
    (define-accessor-generic-functions boot)
    (enable-class-initialization boot)
    (create-mop-classes boot)
    (load-fasl "CLOS/satiation.fasl" e6)))
