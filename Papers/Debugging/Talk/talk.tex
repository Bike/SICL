\documentclass{beamer}
\usepackage[latin1]{inputenc}
\beamertemplateshadingbackground{red!10}{blue!10}
%\usepackage{fancybox}
\usepackage{epsfig}
\usepackage{verbatim}
\usepackage{url}
%\usepackage{graphics}
%\usepackage{xcolor}
\usepackage{fancybox}
\usepackage{moreverb}
%\usepackage[all]{xy}
\usepackage{listings}
\usepackage{filecontents}
\usepackage{graphicx}

\lstset{
  language=Lisp,
  basicstyle=\scriptsize\ttfamily,
  keywordstyle={},
  commentstyle={},
  stringstyle={}}

\def\inputfig#1{\input #1}
\def\inputeps#1{\includegraphics{#1}}
\def\inputtex#1{\input #1}

\inputtex{logos.tex}

%\definecolor{ORANGE}{named}{Orange}

\definecolor{GREEN}{rgb}{0,0.8,0}
\definecolor{YELLOW}{rgb}{1,1,0}
\definecolor{ORANGE}{rgb}{1,0.647,0}
\definecolor{PURPLE}{rgb}{0.627,0.126,0.941}
\definecolor{PURPLE}{named}{purple}
\definecolor{PINK}{rgb}{1,0.412,0.706}
\definecolor{WHEAT}{rgb}{1,0.8,0.6}
\definecolor{BLUE}{rgb}{0,0,1}
\definecolor{GRAY}{named}{gray}
\definecolor{CYAN}{named}{cyan}

\newcommand{\orchid}[1]{\textcolor{Orchid}{#1}}
\newcommand{\defun}[1]{\orchid{#1}}

\newcommand{\BROWN}[1]{\textcolor{BROWN}{#1}}
\newcommand{\RED}[1]{\textcolor{red}{#1}}
\newcommand{\YELLOW}[1]{\textcolor{YELLOW}{#1}}
\newcommand{\PINK}[1]{\textcolor{PINK}{#1}}
\newcommand{\WHEAT}[1]{\textcolor{wheat}{#1}}
\newcommand{\GREEN}[1]{\textcolor{GREEN}{#1}}
\newcommand{\PURPLE}[1]{\textcolor{PURPLE}{#1}}
\newcommand{\BLACK}[1]{\textcolor{black}{#1}}
\newcommand{\WHITE}[1]{\textcolor{WHITE}{#1}}
\newcommand{\MAGENTA}[1]{\textcolor{MAGENTA}{#1}}
\newcommand{\ORANGE}[1]{\textcolor{ORANGE}{#1}}
\newcommand{\BLUE}[1]{\textcolor{BLUE}{#1}}
\newcommand{\GRAY}[1]{\textcolor{gray}{#1}}
\newcommand{\CYAN}[1]{\textcolor{cyan }{#1}}

\newcommand{\reference}[2]{\textcolor{PINK}{[#1~#2]}}
%\newcommand{\vect}[1]{\stackrel{\rightarrow}{#1}}

% Use some nice templates
\beamertemplatetransparentcovereddynamic

\newcommand{\A}{{\mathbb A}}
\newcommand{\degr}{\mathrm{deg}}

\title{Omnipresent and low-overhead application debugging}

\author{Robert Strandh}
\institute{
LaBRI, University of Bordeaux
}
\date{April, 2020}

%\inputtex{macros.tex}


\begin{document}
\frame{
\resizebox{3cm}{!}{\includegraphics{Logobx.pdf}}
\hfill
\resizebox{1.5cm}{!}{\includegraphics{labri-logo.pdf}}
\titlepage
\vfill
\small{European Lisp Symposium, Zürich, Switzerland \hfill ELS2020}
}

\setbeamertemplate{footline}{
\vspace{-1em}
\hspace*{1ex}{~} \GRAY{\insertframenumber/\inserttotalframenumber}
}

\frame{
\frametitle{Context: The \sicl{} project}

https://github.com/robert-strandh/SICL

Several objectives:

\begin{itemize}
\item Create high-quality \emph{modules} for implementors of
  \commonlisp{} systems.
\item Improve existing techniques with respect to algorithms and data
  structures where possible.
\item Improve readability and maintainability of code.
\item Improve documentation.
\item Ultimately, create a new implementation based on these modules.
\item Provide excellent debugging facilities.
\item Keep system \emph{safe}.
\end{itemize}
}

\frame{
\frametitle{Definition of ``safety''}
For the purpose of this work, we consider a system to be \emph{safe}
if and only if, there is no manipulation that a user can do that
violates the internal consistency of the system.
\vskip 0.25cm
We do \emph{not} include in the definition any protection against the
program giving the wrong answer as a result of incorrect programming.
}


\frame{
\frametitle{Process-based debugging}
The debugger and the application execute in separate processes with
separate address spaces.
\vskip 0.25cm
\begin{figure}
\begin{center}
\inputfig{fig-process-based-debugging.pdf_t}
\end{center}
\end{figure}
Used in UNIX-like systems.

Also recommended for CCL and ECL.
}

\frame{
\frametitle{Process-based debugging}
The instructions of the application are modified by the debugger
(using copy-on-write pages).
\vskip 0.25cm
Does not require any collaboration from the application.
\vskip 0.25cm
Additional debugging information is needed for source-level
debugging.
\vskip 0.25cm
Inherently \emph{unsafe}.  The debugger can alter any memory
location.
\vskip 0.25cm
}

\frame{
\frametitle{Same-process debugging}
Has many advantages in the context of \commonlisp{}.
\vskip 0.25cm
Introduces several problems that must be solved.
\vskip 0.25cm
Setting a breakpoint in a function used by the evaluator or the
debugger may render the system useless.
\vskip 0.25cm
Unsafe operations may crash the system or, worse, silently give the
wrong answer.

}

\frame{
\frametitle{Debugging in FLOSS \commonlisp{} implementations}
Inferior or non-existing debugging support.
\vskip 0.25cm
The \texttt{trace} facility of most implementations uses
\emph{encapsulation}.
\vskip 0.25cm
Many implementations do not have a working \texttt{step} facility.
\vskip 0.25cm
ECL accomplishes stepping with a special instruction type in the
bytecode virtual machine.
\vskip 0.25cm
SBCL has breakpoints, but they are used only for the \texttt{trace}
facility.  Stepping is accomplished using the condition system, and
only when the \texttt{debug} quality is sufficiently high.

}

\frame{
\frametitle{Debugging in LispWorks}
Breakpoints can be set from the editor or the stepper.
\vskip 0.25cm
The first time a breakpoint is set, the source code of the defining
form is re-evaluated with additional annotations for the stepper.
\vskip 0.25cm
If a breakpoint is encountered, the stepper is automatically invoked
if it is not invoked already.
\vskip 0.25cm
The \texttt{trace} facility uses encapsulation.
}

\frame{
\frametitle{Debugging in Allegro}
The most complete system of them all.
\vskip 0.25cm
Breakpoints alter native code, in a way similar to process-based
debugging.
\vskip 0.25cm
To avoid an unusable system, when a breakpoint is encountered, the
debugger first \emph{uninstalls} all breakpoints.
\vskip 0.25cm
This low-level mechanism is used for stepping, source-level debugging,
tracing, etc.
}

\frame{
\frametitle{Title}
Stuff
\vskip 0.25cm
More stuff
}

\frame{
\frametitle{Title}
Stuff
\vskip 0.25cm
More stuff
}

\frame[containsverbatim]{
\frametitle{A protocol for first-class global environments}
\begin{verbatim}
(cl:in-package #:sicl-genv)

(defgeneric fboundp (function-name environment))

(defgeneric fmakunbound (function-name environment))
\end{verbatim}

}

\frame{
\frametitle{Future work}

\begin{itemize}
\item stuff
\item stuff
\item stuff
\end{itemize}

}

\frame{
  \frametitle{Acknowledgments}

We would like to thank ...
}

\frame{
\frametitle{Thank you}
}

%% \frame{\tableofcontents}
%% \bibliography{references}
%% \bibliographystyle{alpha}

\end{document}
